<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Details - GreenHaven</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  <style>
    :root {
      --primary: #2d6a4f;
      --primary-light: #40916c;
      --secondary: #95d5b2;
      --accent: #d8f3dc;
      --text: #1b4332;
      --text-light: #2d6a4f;
      --background: linear-gradient(135deg, #e0f2e9 0%, #c8e6c9 50%, #a5d6a7 100%);
      --white: #ffffff;
      --shadow: 0 4px 3px rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      line-height: 1.6;
      color: var(--text);
      background: var(--background);
      display: flex;
      min-height: 100vh;
    }
    
    a {
      text-decoration: none;
      color: inherit;
    }

    .navbar {
      background: var(--white);
      box-shadow: var(--shadow);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand {
      font-size: 22px;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-links a {
      color: rgb(43, 37, 37);
      margin-left: 20px;
      text-decoration: none;
      font-weight: bold;
    }

    .nav-links a.active {
      border-bottom: 2px solid rgb(48, 41, 41);
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropbtn {
      background: none;
      border: none;
      color: black;
      font-size: 20px;
      cursor: pointer;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      background-color: white;
      min-width: 160px;
      box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
      z-index: 1;
    }

    .dropdown-content a {
      color: black;
      padding: 10px 15px;
      text-decoration: none;
      display: block;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .container {
      display: flex;
      width: 100%;
      margin-top: 60px;
    }

    .sidebar {
      width: 250px;
      position: fixed;
      top: 60px;
      bottom: 0;
      background: var(--white);
      padding: 20px;
      box-shadow: var(--shadow);
      overflow-y: auto;
      z-index: 900;
    }

    .sidebar h3 {
      margin-bottom: 10px;
      color: var(--text);
    }

    .sidebar .product-item {
      margin-bottom: 15px;
      text-align: center;
    }

    .sidebar .product-item img {
      max-width: 100%;
      height: 100px;
      object-fit: cover;
      border-radius: 8px;
    }

    .sidebar .product-item h4 {
      font-size: 1rem;
      margin: 5px 0;
    }

    .sidebar .product-item .price {
      color: var(--primary);
      font-weight: bold;
    }

    .main-content {
      flex: 1;
      margin-left: 250px;
      padding: 20px;
    }

    .product-container {
      max-width: 1200px;
      margin: 0 auto 20px;
      padding: 20px;
      display: flex;
      gap: 30px;
    }

    .product-image {
      flex: 1;
      text-align: center;
      padding: 20px;
      background: var(--white);
      border-radius: 8px;
      box-shadow: var(--shadow);
    }

    .product-image img {
      max-width: 100%;
      height: 400px;
      object-fit: cover;
      border: 1px solid #ddd;
      border-radius: 8px;
    }

    .product-details {
      flex: 2;
      padding: 20px;
      background: var(--white);
      border-radius: 8px;
      box-shadow: var(--shadow);
    }

    .product-details h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      color: var(--text);
    }

    .product-details .rating {
      color: #ff9800;
      margin-bottom: 10px;
    }

    .product-details .price {
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 15px;
      font-weight: bold;
    }

    .product-details .availability {
      color: #2e7d32;
      margin-bottom: 15px;
    }

    .product-details .availability.out-of-stock {
      color: #d32f2f;
    }

    .product-details p {
      margin-bottom: 15px;
      color: #555;
    }

    .quantity-selector {
      margin-bottom: 15px;
    }

    .quantity-selector label {
      margin-right: 10px;
    }

    .quantity-selector input {
      width: 50px;
      padding: 5px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .button {
      text-decoration: none;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 15px;
      background-color: #c7cdca;
      color: #000000;
      border-radius: 3px;
      cursor: pointer;
      border: none;
      padding: 10px 20px;
      margin-right: 10px;
      display: inline-block;
      transition: background-color 0.3s;
    }

    .button:hover {
      background-color: #82938b;
    }

    .button.buy-now {
      background-color: #ff5722;
      color: var(--white);
    }

    .button.buy-now:hover {
      background-color: #e64a19;
    }

    .button.wishlist {
      background-color: #ffeb3b;
    }

    .button.wishlist:hover {
      background-color: #fdd835;
    }

    .specs {
      margin-top: 20px;
      padding: 15px;
      background: var(--accent);
      border-radius: 8px;
    }

    .specs h3 {
      margin-bottom: 10px;
      color: var(--text);
    }

    .specs ul {
      list-style: none;
    }

    .specs ul li {
      margin-bottom: 5px;
      color: #555;
    }

    .related-products {
      max-width: 1200px;
      margin: 20px auto;
      padding: 20px;
      background: var(--white);
      border-radius: 8px;
      box-shadow: var(--shadow);
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .related-products.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .related-products h3 {
      margin-bottom: 15px;
      color: var(--text);
    }

    .related-products .product-list {
      display: flex;
      gap: 15px;
      overflow-x: auto;
    }

    .related-products .product-item {
      text-align: center;
      min-width: 150px;
    }

    .related-products .product-item img {
      max-width: 100%;
      height: 100px;
      object-fit: cover;
      border-radius: 8px;
    }

    .related-products .product-item h4 {
      font-size: 1rem;
      margin: 5px 0;
    }

    .related-products .product-item .price {
      color: var(--primary);
      font-weight: bold;
    }

    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }

      .sidebar {
        position: static;
        width: 100%;
        margin-bottom: 20px;
      }

      .main-content {
        margin-left: 0;
      }

      .product-container {
        flex-direction: column;
        margin-top: 60px;
      }

      .product-image, .product-details {
        width: 100%;
      }

      .related-products .product-list {
        flex-direction: column;
      }

      .related-products .product-item {
        min-width: 100%;
      }

      .product-image img {
        height: 300px;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-brand">
      <i class="fa-brands fa-canadian-maple-leaf"></i>
      <span>GreenHaven</span>
    </div>
    <div class="nav-links">
      <a href="main.html" class="active">Home</a>
      <a href="shop.html">Shop</a>
      <a href="#guide">Care Guide</a>
      <a href="#about">About</a>
      <a href="index.html">Start</a>
    </div>
    <div class="dropdown">
      <button class="dropbtn"><i class="fa-solid fa-bars"></i></button>
      <div class="dropdown-content">
        <a href="profile.html"><i class="fa-solid fa-id-card"></i> Profile Info</a>
        <a href="shop.html"><i class="fa-solid fa-store"></i> Store</a>
        <a href="wishlist.html"><i class="fa-solid fa-heart"></i> Wishlist</a>
        <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i> Cart</a>
        <a href="orders.html"><i class="fa-solid fa-box-open"></i> My Orders</a>
        <a href="index.html"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="sidebar" id="sidebar">
      <h3>Other Products</h3>
      <!-- Sidebar products will be loaded dynamically -->
    </div>
    <div class="main-content">
      <div class="product-container" id="product-container">
        <!-- Product details will be loaded dynamically via JavaScript -->
      </div>

      <div class="related-products" id="related-products">
        <h3>Related Products</h3>
        <div class="product-list" id="related-list">
          <!-- Related products will be loaded dynamically -->
        </div>
      </div>
    </div>
  </div>

  <script>
    // Product data with unique IDs (40 products)
    const products = [
      { id: 1, name: "Monstera Deliciosa", price: 45, image: "/images/3.avif", description: "Beautiful tropical plant with large leaves.", rating: 4.5, stock: true, specs: ["Height: 2-3 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 2, name: "Money Plant", price: 65, image: "/images/money plant.webp", description: "Known for good fortune and air purification.", rating: 4.2, stock: true, specs: ["Height: 1-2 ft", "Light: Low", "Water: Low"] },
      { id: 3, name: "Happy Plant", price: 45, image: "/images/happy.jpeg", description: "Low-maintenance plant perfect for indoors.", rating: 4.0, stock: true, specs: ["Height: 2 ft", "Light: Bright", "Water: Moderate"] },
      { id: 4, name: "Spider Plant", price: 22, image: "/images/spider.jpeg", description: "Easy-to-grow plant with arching leaves.", rating: 4.7, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Low"] },
      { id: 5, name: "Snake Plant", price: 19, image: "/images/snake.avif", description: "Hardy plant with upright leaves, great for beginners.", rating: 4.6, stock: true, specs: ["Height: 2-3 ft", "Light: Low", "Water: Low"] },
      { id: 6, name: "Pandanus Plant", price: 15, image: "/images/pandous.jpeg", description: "Tropical plant with spiky, green leaves.", rating: 4.1, stock: false, specs: ["Height: 3-4 ft", "Light: Bright", "Water: Moderate"] },
      { id: 7, name: "Rhoeo Plant", price: 25, image: "/images/rheoo.jpeg", description: "Colorful foliage with purple undersides.", rating: 4.3, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 8, name: "Jade Plant", price: 22, image: "/images/jade.webp", description: "Succulent with thick, glossy leaves.", rating: 4.5, stock: true, specs: ["Height: 1-2 ft", "Light: Bright", "Water: Low"] },
      { id: 9, name: "Aloe Vera Plant", price: 19, image: "/images/alovera.jpeg", description: "Medicinal succulent with soothing gel.", rating: 4.4, stock: true, specs: ["Height: 1-2 ft", "Light: Bright", "Water: Low"] },
      { id: 10, name: "Areca Palm Plant", price: 15, image: "/images/palm.avif", description: "Elegant palm for bright indoor spaces.", rating: 4.2, stock: true, specs: ["Height: 3-5 ft", "Light: Bright", "Water: Moderate"] },
      { id: 11, name: "Coleus Plant", price: 25, image: "/images/coleus.jpeg", description: "Vibrant foliage plant for decoration.", rating: 4.3, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 12, name: "Peace Lily", price: 30, image: "/images/peachlily.webp", description: "Elegant plant with white blooms.", rating: 4.4, stock: true, specs: ["Height: 1-3 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 13, name: "Fiddle Leaf Fig", price: 50, image: "/images/fiddleleaf.jpg", description: "Stylish plant with large leaves.", rating: 4.3, stock: true, specs: ["Height: 3-6 ft", "Light: Bright", "Water: Moderate"] },
      { id: 14, name: "ZZ Plant", price: 25, image: "/images/ZZ.webp", description: "Durable plant for low light.", rating: 4.6, stock: true, specs: ["Height: 2-3 ft", "Light: Low", "Water: Low"] },
      { id: 15, name: "Boston Fern", price: 35, image: "/images/bostonfern.jpg", description: "Lush green fern for humidity.", rating: 4.2, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: High"] },
      { id: 16, name: "Rubber Plant", price: 40, image: "/images/rubberplant.webp", description: "Bold plant with shiny leaves.", rating: 4.5, stock: true, specs: ["Height: 3-5 ft", "Light: Bright", "Water: Moderate"] },
      { id: 17, name: "Calathea", price: 28, image: "/images/Calathea.webp", description: "Colorful patterned leaves.", rating: 4.3, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 18, name: "Philodendron", price: 35, image: "/images/Philo.webp", description: "Versatile plant with heart-shaped leaves.", rating: 4.4, stock: true, specs: ["Height: 2-4 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 19, name: "Pothos", price: 20, image: "/images/Phothos.webp", description: "Easy-care vine with variegated leaves.", rating: 4.6, stock: true, specs: ["Height: 1-3 ft", "Light: Low", "Water: Low"] },
      { id: 20, name: "Croton", price: 30, image: "/images/Croton.jpg", description: "Vividly colored foliage plant.", rating: 4.2, stock: true, specs: ["Height: 2-4 ft", "Light: Bright", "Water: Moderate"] },
      { id: 21, name: "Dracaena", price: 38, image: "/images/Dracarna.webp", description: "Tall plant with striking foliage.", rating: 4.3, stock: true, specs: ["Height: 3-6 ft", "Light: Indirect", "Water: Low"] },
      { id: 22, name: "Anthurium", price: 32, image: "/images/Anthurium.webp", description: "Bright red blooms for vibrant decor.", rating: 4.4, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 23, name: "Bamboo Palm", price: 42, image: "/images/Bamboo.jpg'", description: "Lush palm for tropical vibes.", rating: 4.2, stock: true, specs: ["Height: 4-6 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 24, name: "Parlor Palm", price: 28, image: "/images/parlour.webp", description: "Compact palm for small spaces.", rating: 4.1, stock: true, specs: ["Height: 2-4 ft", "Light: Low", "Water: Moderate"] },
      { id: 25, name: "Aglaonema", price: 27, image: "/images/anglonema.webp", description: "Colorful foliage for low light.", rating: 4.3, stock: true, specs: ["Height: 1-3 ft", "Light: Low", "Water: Moderate"] },
      { id: 26, name: "Yucca Plant", price: 35, image: "/images/yucca.webp", description: "Drought-tolerant with spiky leaves.", rating: 4.2, stock: true, specs: ["Height: 2-4 ft", "Light: Bright", "Water: Low"] },
      { id: 27, name: "Bird of Paradise", price: 55, image: "/images/bird\ of\ paradise.jpg", description: "Exotic plant with large leaves.", rating: 4.5, stock: true, specs: ["Height: 3-5 ft", "Light: Bright", "Water: Moderate"] },
      { id: 28, name: "English Ivy", price: 18, image: "/images/english\ ivy.webp", description: "Climbing vine for lush greenery.", rating: 4.0, stock: true, specs: ["Height: 1-3 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 29, name: "Hoya Plant", price: 30, image: "/images/hoya.jpg", description: "Waxy leaves with star-shaped flowers.", rating: 4.4, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Low"] },
      { id: 30, name: "Cast Iron Plant", price: 25, image: "/images/cast.webp", description: "Tough plant for low maintenance.", rating: 4.6, stock: true, specs: ["Height: 2-3 ft", "Light: Low", "Water: Low"] },
      { id: 31, name: "Dieffenbachia", price: 28, image: "/images/def.jpg", description: "Bold leaves with variegated patterns.", rating: 4.3, stock: true, specs: ["Height: 2-4 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 32, name: "Chinese Evergreen", price: 26, image: "/images/chinese.webp", description: "Low-light plant with colorful leaves.", rating: 4.2, stock: true, specs: ["Height: 1-3 ft", "Light: Low", "Water: Moderate"] },
      { id: 33, name: "String of Pearls", price: 22, image: "/images/string.jpg", description: "Unique succulent with bead-like leaves.", rating: 4.5, stock: true, specs: ["Height: 1-2 ft", "Light: Bright", "Water: Low"] },
      { id: 34, name: "Fittonia", price: 20, image: "/images/fit.webp", description: "Small plant with veined leaves.", rating: 4.1, stock: true, specs: ["Height: 0.5-1 ft", "Light: Indirect", "Water: High"] },
      { id: 35, name: "African Violet", price: 18, image: "/images/african.webp", description: "Compact plant with colorful blooms.", rating: 4.3, stock: true, specs: ["Height: 0.5-1 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 36, name: "Peperomia", price: 24, image: "/images/peper.webp", description: "Small plant with thick leaves.", rating: 4.2, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 37, name: "Kalanchoe", price: 20, image: "/images/kalan.jpg", description: "Succulent with vibrant flowers.", rating: 4.4, stock: true, specs: ["Height: 1-2 ft", "Light: Bright", "Water: Low"] },
      { id: 38, name: "Spathiphyllum", price: 32, image: "/images/spe.webp", description: "Elegant plant with white blooms.", rating: 4.3, stock: true, specs: ["Height: 1-3 ft", "Light: Indirect", "Water: Moderate"] },
      { id: 39, name: "Schefflera", price: 35, image: "/images/schef.webp", description: "Umbrella-shaped foliage plant.", rating: 4.2, stock: true, specs: ["Height: 3-6 ft", "Light: Bright", "Water: Moderate"] },
      { id: 40, name: "Maranta", price: 28, image: "/images/maranta.webp", description: "Prayer plant with patterned leaves.", rating: 4.4, stock: true, specs: ["Height: 1-2 ft", "Light: Indirect", "Water: Moderate"] }
    ];

    // Get product ID from URL query parameter
    const urlParams = new URLSearchParams(window.location.search);
    const productId = parseInt(urlParams.get('id'));

    // Find the product based on ID
    const product = products.find(p => p.id === productId);

    // Display product details
    if (product) {
      document.title = `${product.name} - GreenHaven`; // Update page title
      const stars = '★'.repeat(Math.round(product.rating)) + '☆'.repeat(5 - Math.round(product.rating));
      const availabilityText = product.stock ? "In Stock" : "Out of Stock";
      const availabilityClass = product.stock ? "" : "out-of-stock";

      document.getElementById('product-container').innerHTML = `
        <div class="product-image">
          <img src="${product.image}" alt="${product.name}">
        </div>
        <div class="product-details">
          <h1>${product.name}</h1>
          <div class="rating">${stars} (${product.rating}/5)</div>
          <p class="price">$${product.price}</p>
          <p class="availability ${availabilityClass}"><i class="fas fa-check"></i> ${availabilityText}</p>
          <p>${product.description}</p>
          <div class="quantity-selector">
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" value="1" min="1" max="${product.stock ? 10 : 0}">
          </div>
          <a href="#" class="button add-to-cart" data-name="${product.name}" data-price="${product.price}" data-image="${product.image}" data-id="${product.id}">Add to Cart</a>
          <a href="#" class="button buy-now" onclick="buyNow('${product.name}', ${product.price}, '${product.image}', ${product.id})">Buy Now</a>
          <a href="#" class="button wishlist" onclick="addToWishlist('${product.name}', ${product.price}, '${product.image}', ${product.id})"><i class="fas fa-heart"></i> Add to Wishlist</a>
          <div class="specs">
            <h3>Specifications</h3>
            <ul>
              ${product.specs.map(spec => `<li>${spec}</li>`).join('')}
            </ul>
          </div>
        </div>
      `;
    } else {
      document.getElementById('product-container').innerHTML = '<h1>Product not found</h1>';
      console.warn(`Product with ID ${productId} not found.`);
    }

    // Add to cart functionality with quantity
    document.querySelectorAll('.add-to-cart').forEach(button => {
      button.addEventListener('click', (e) => {
        e.preventDefault();
        const name = button.dataset.name;
        const price = parseFloat(button.dataset.price);
        const image = button.dataset.image;
        const id = parseInt(button.dataset.id);
        const quantity = document.getElementById('quantity') ? parseInt(document.getElementById('quantity').value) : 1;

        if (quantity <= 0 || (products.find(p => p.id === id).stock === false)) {
          alert("Item is out of stock or invalid quantity.");
          return;
        }

        const cartItem = { id, name, price, image, quantity, userId: "user123" };

        fetch('http://localhost:3000/cart', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(cartItem),
        })
          .then(res => {
            if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);
            return res.json();
          })
          .then(data => {
            if (data.success) {
              alert(`${quantity} x ${name} added to cart!`);
            } else {
              alert('Error adding item to cart.');
            }
          })
          .catch(err => {
            alert('Error adding item to cart. Please ensure the server is running.');
            console.error(err);
          });
      });
    });

    // Wishlist functionality
    function addToWishlist(name, price, image, id) {
      const wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
      if (!wishlist.some(item => item.id === id)) {
        wishlist.push({ id, name, price, image });
        localStorage.setItem("wishlist", JSON.stringify(wishlist));
        alert(`${name} added to wishlist!`);
      } else {
        alert(`${name} is already in your wishlist.`);
      }
    }

    // Buy Now functionality
    function buyNow(name, price, image, id) {
      const quantity = document.getElementById('quantity') ? parseInt(document.getElementById('quantity').value) : 1;
      if (quantity <= 0 || (products.find(p => p.id === id).stock === false)) {
        alert("Item is out of stock or invalid quantity.");
        return;
      }
      const params = new URLSearchParams({
        id: id,
        name: encodeURIComponent(name),
        price: price,
        image: encodeURIComponent(image),
        quantity: quantity
      });
      window.location.href = `payment.html?${params.toString()}`;
    }

    // Load related products on scroll
    window.addEventListener('scroll', () => {
      const relatedSection = document.getElementById('related-products');
      const rect = relatedSection.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) {
        relatedSection.classList.add('visible');
        loadRelatedProducts();
        window.removeEventListener('scroll', arguments.callee);
      }
    });

    function loadRelatedProducts() {
      const relatedList = document.getElementById('related-list');
      const relatedProducts = products.filter(p => p.id !== productId && p.stock).slice(0, 8);
      relatedList.innerHTML = relatedProducts.map(p => `
        <div class="product-item">
          <a href="product.html?id=${p.id}">
            <img src="${p.image}" alt="${p.name}">
            <h4>${p.name}</h4>
            <p class="price">$${p.price}</p>
          </a>
        </div>
      `).join('');
    }

    // Load sidebar products
    function loadSidebarProducts() {
      const sidebar = document.getElementById('sidebar');
      const sidebarProducts = products.filter(p => p.id !== productId && p.stock).slice(0, 10);
      sidebar.innerHTML = `
        <h3>Other Products</h3>
        ${sidebarProducts.map(p => `
          <div class="product-item">
            <a href="product.html?id=${p.id}">
              <img src="${p.image}" alt="${p.name}">
              <h4>${p.name}</h4>
              <p class="price">$${p.price}</p>
            </a>
          </div>
        `).join('')}
      `;
    }

    // Initial load
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        loadRelatedProducts();
        loadSidebarProducts();
      });
    } else {
      loadRelatedProducts();
      loadSidebarProducts();
    }
  </script>
</body>
</html>